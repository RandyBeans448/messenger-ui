<div class="flex flex-col bg-gray-900 rounded-lg shadow-lg">
    <div 
        #chatContainer 
        class="h-96 rounded-t-lg overflow-y-scroll p-4 bg-gray-800">
        <ul>
            @for (message of messages; track $index) {
                <div 
                    class="chat-container flex mb-2"
                    [ngClass]="{
                        'justify-end': message.sender.id === this.user.value.user.id,
                        'justify-start': message.sender.id !== this.user.value.user.id
                    }">
                    
                    <div 
                        class="message max-w-xs p-3 rounded-lg text-white"
                        [ngClass]="{
                            'bg-blue-600': message.sender.id === this.user.value.user.id,
                            'bg-gray-700': message.sender.id !== this.user.value.user.id
                        }">
                        <p class="whitespace-pre-line">{{ message.message }}</p>
                        <p class="text-xs mt-1 text-gray-400 text-right">{{ message.createdAt }}</p>
                    </div>
                </div>
            }
        </ul>
    </div>

    <div class="p-2 rounded-b-lg bg-gray-800">
        <app-chat-bar (messageValue)="sendMessage($event)"></app-chat-bar>
    </div>
</div>
